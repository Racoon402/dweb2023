<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>습사일지</title>
    <link href="test.css" rel="stylesheet">
</head>

<body>
    <div>
        <table class="center">
            <th>
                과녁
            </th>
            <tr>
                <td>
                    img
                </td>
                <td>
                    <i class="fa-solid fa-arrow-up"></i>
                </td>
                <td>
                    img
                </td>
            </tr>
            <tr>
                <td>
                    <i class="fa-solid fa-arrow-left"></i>
                </td>
                <td>
                    <i class="fa-solid fa-bullseye"></i>
                </td>
                <td>
                    <i class="fa-solid fa-arrow-right"></i>
                </td>
            </tr>
            <tr>
                <td>
                    img
                </td>
                <td>
                    <i class="fa-solid fa-arrow-down"></i>
                </td>
                <td>
                    img
                </td>
            </tr>
        </table>
        <div id="tableContainer">
            <table id="recode" class="center recode">
                <tr>
                    <th colspan="6">습사일지</th>
                </tr>
                <tr>
                    <td>1순</td>
                    <td><select>
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5</option>
                        </select></td>
                    <td><select>
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5</option>
                        </select></td>
                    <td><select>
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5</option>
                        </select></td>
                    <td><select>
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5</option>
                        </select></td>
                    <td><select>
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5</option>
                        </select></td>
                </tr>
            </table>

        </div><br />

        <button onclick="createTable()">추가하기</button>
        <button id="removebutton" onclick="deleteTableRow()" style="display: none;">삭제하기</button>

    </div>

    <script>
        let count = 2;
        function createTable() {

            const removebutton = document.getElementById("removebutton");
            removebutton.style.display = "block"; // Show the Reset button

            const table = document.getElementById("recode");

            const rowData = [];
            const row = document.createElement("tr");
            for (let j = 0; j < 6; j++) {
                const cell = document.createElement("td");
                if (j === 0) {
                    cell.textContent = count + "순";
                } else {
                    const dropdown = createDropdown(rowData);
                    cell.appendChild(dropdown);
                }
                row.appendChild(cell);
            }
            table.appendChild(row);


            tableContainer.appendChild(table);
            count++;
        }

        function createDropdown(rowData) {
            const dropdown = document.createElement("select");
            for (let i = 1; i <= 5; i++) {
                const option = document.createElement("option");
                option.value = i;
                option.text = i;
                dropdown.appendChild(option);
            }

            dropdown.addEventListener("change", function () {
                const selectedIndex = this.selectedIndex;
                rowData.push(selectedIndex);
            });

            return dropdown;
        }

        function deleteTableRow() {

            const tableContainer = document.getElementById("recode");
            tableContainer.removeChild(tableContainer.lastElementChild); // Clear the table

            count--;
            if (count === 2) {
                const removebutton = document.getElementById("removebutton");
                removebutton.style.display = "none"; // Hide the Reset button
            }
        }

    </script>
    <script src="https://kit.fontawesome.com/2fad28f04d.js" crossorigin="anonymous"></script>
</body>

</html>
